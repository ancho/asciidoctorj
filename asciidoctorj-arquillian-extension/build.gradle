dependencies {
  provided project(path: ':asciidoctorj')
  compile project(path: ':asciidoctorj-test-support', configuration: 'tests')
  compile "org.jboss.arquillian.container:arquillian-container-spi:$arquillianVersion"
  compile "org.jboss.arquillian.container:arquillian-container-test-spi:$arquillianVersion"
  compile "org.jboss.arquillian.container:arquillian-container-impl-base:$arquillianVersion"
  compile "org.jboss.arquillian.container:arquillian-container-test-impl-base:$arquillianVersion"
}

jar.dependsOn project(':asciidoctorj').testClasses

jar {
  from project(':asciidoctorj').sourceSets.test.output
  include 'org/asciidoctor/arquillian/**/*'
  include 'META-INF/services/*'
}
javadoc {
  source project(':asciidoctorj').fileTree('src/test/java') {
    include 'org/asciidoctor/arquillian/**/*'
  }
  classpath = sourceSets.main.output +
          sourceSets.main.compileClasspath +
          project(':asciidoctorj-test-support').sourceSets.test.output +
          project(':asciidoctorj').configurations.testCompile
}

sourcesJar {
  from project(':asciidoctorj').sourceSets.test.allSource
  include 'org/asciidoctor/arquillian/**/*'
  include 'META-INF/services/*'
}